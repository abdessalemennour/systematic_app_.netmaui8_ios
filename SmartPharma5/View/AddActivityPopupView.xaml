<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:dxe="clr-namespace:DevExpress.Maui.Editors;assembly=DevExpress.Maui.Editors"
             x:Class="SmartPharma5.View.AddActivityPopupView"
             Color="Transparent"
             CanBeDismissedByTappingOutsideOfPopup="True"
             Size="400,600">
    <Frame BackgroundColor="White"
           CornerRadius="10"
           Padding="20"
           Margin="20"
           HasShadow="True"
           VerticalOptions="Center"
           HorizontalOptions="Center">
        <ScrollView>
            <StackLayout Spacing="15">
                <Label Text="Ajouter une nouvelle activité" 
                       FontSize="20" 
                       FontAttributes="Bold" 
                       HorizontalOptions="Center" 
                       Margin="0,0,0,10"/>

                <Label Text="Objet parent" FontAttributes="Bold" />
                <Label Text="{Binding ParentObjectDisplay}" 
                       TextColor="#666666"
                       Margin="0,0,0,10"/>



                <Label Text="Type d'activité" FontAttributes="Bold" />
                <dxe:ComboBoxEdit 
                    ItemsSource="{Binding ActivityTypes}"
                    DisplayMember="Name"
                    ValueMember="Id"
                    SelectedItem="{Binding SelectedActivityType, Mode=TwoWay}"
                    HeightRequest="50"
                    TextHorizontalAlignment="Center"
                    VerticalOptions="Center" />

                <Label Text="Résumé" FontAttributes="Bold" />
                <Entry Placeholder="Entrer le résumé" 
                       Text="{Binding Summary, Mode=TwoWay}" 
                       IsEnabled="True" />

                <Label Text="Date d'échéance" FontAttributes="Bold" />
                <DatePicker Date="{Binding DueDate, Mode=TwoWay}" />

                <Label Text="Note" FontAttributes="Bold" />
                <Editor Placeholder="Ajouter une note" 
                        Text="{Binding ActivityMemo, Mode=TwoWay}" 
                        HeightRequest="100" />

                <Label Text="Attribué à" FontAttributes="Bold" />
                <Label Text="{Binding SelectedEmployee.NameEmployee}" 
                       FontSize="16"
                       TextColor="#333333"
                       Padding="10,5"
                       BackgroundColor="#F5F5F5"
                       Margin="0,5"/>

                <StackLayout Orientation="Horizontal" 
                            HorizontalOptions="Center" 
                            Spacing="20"
                            Margin="0,10,0,0">
                    <Button Text="Annuler" 
                            BackgroundColor="Red" 
                            TextColor="#FFFFFFFF" 
                            CornerRadius="10" 
                            WidthRequest="120" 
                            Clicked="OnCancelClicked" />
                    <Button Text="Sauvegarder" 
                            BackgroundColor="Green" 
                            TextColor="#FFFFFFFF" 
                            CornerRadius="10" 
                            WidthRequest="120" 
                            Clicked="OnSaveClicked" />
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </Frame>
</toolkit:Popup> 