<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SmartPharma5.View.FloatingActionButton.DrawingView"
            xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"

             Title="DrawingView">
    <Grid>
        <!-- Zone de dessin principale -->
        <skia:SKCanvasView x:Name="DrawingCanvas"
                          PaintSurface="OnCanvasPaintSurface"
                          EnableTouchEvents="True"
                          Touch="OnCanvasTouch"
                          BackgroundColor="White"
                          VerticalOptions="Fill"
                          HorizontalOptions="Fill"/>
        <Button Text="↶"
            Clicked="OnUndoClicked"
            BackgroundColor="LightGray"
            Padding="10"
            FontSize="20"
            WidthRequest="50"
            HeightRequest="50"
            HorizontalOptions="End"
            VerticalOptions="Start"
            Margin="10"/>


        <!-- Overlay de contrôle -->
        <VerticalStackLayout VerticalOptions="End" Margin="20" Spacing="10">
            <Label x:Name="OcrResultLabel" 
                   Text="Résultat OCR apparaîtra ici..." 
                   BackgroundColor="#E0E0E0"
                   Padding="10"
                   HorizontalOptions="Fill"/>

            <Grid ColumnDefinitions="*,*,*,*" ColumnSpacing="10">
                <Button Text="Effacer" 
                        Grid.Column="0"
                        Clicked="OnClearClicked"
                        BackgroundColor="#FF5722"
                        TextColor="White"/>

                <Button Text="TEXT" 
                        Grid.Column="1"
                        Clicked="OnOcrClicked"
                        BackgroundColor="#2196F3"
                        TextColor="White"/>

                <Button Text="Copier" 
                        Grid.Column="2"
                        Clicked="OnCopyClicked"
                        BackgroundColor="#4CAF50"
                        TextColor="White"/>

                <Button Text="Continuer" 
                        Grid.Column="3"
                        Clicked="OnContinueClicked"
                        IsEnabled="{Binding IsOcrSuccess}" 
                        BackgroundColor="#512BD4"
                        TextColor="White"/>


            </Grid>
        </VerticalStackLayout>
    </Grid>
</ContentPage>